
## 🏗️ CLIKCA (Click + Assistant) 시스템 아키텍처

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              CLIENT LAYER                                      │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐           │
│  │   Web Browser   │    │  Electron App   │    │  Mobile App     │           │
│  │   (Port 80)     │    │   (Desktop)     │    │   (Future)      │           │
│  └─────────────────┘    └─────────────────┘    └─────────────────┘           │
└─────────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              GATEWAY LAYER                                     │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                        Nginx (Port 80/443)                            │   │
│  │  • Static File Serving (React Build)                                  │   │
│  │  • API Proxy (Backend)                                                │   │
│  │  • Load Balancing                                                     │   │
│  │  • SSL Termination                                                    │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────────┘
                                    │
                    ┌────────────────┼────────────────┐
                    ▼                ▼                ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              APPLICATION LAYER                                 │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                    Frontend (React + Vite)                            │   │
│  │  • Chat Interface                                                     │   │
│  │  • Document Editor                                                    │   │
│  │  • Role-based UI (Admin/User)                                        │   │
│  │  • Responsive Design                                                 │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                    │                                          │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                    Backend (FastAPI + Python)                          │   │
│  │  • REST API Endpoints                                                 │   │
│  │  • RAG Agent System                                                   │   │
│  │  • Document Processing                                                │   │
│  │  • Chat Management                                                    │   │
│  │  • User Authentication                                                │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────────┘
                                    │
                    ┌────────────────┼────────────────┐
                    ▼                ▼                ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              SERVICE LAYER                                     │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                        AI/LLM Services                                 │   │
│  │  • OpenAI API Integration                                             │   │
│  │  • Voyage AI Integration                                              │   │
│  │  • RAG (Retrieval-Augmented Generation)                               │   │
│  │  • Document Search Agent                                              │   │
│  │  • Document Editor Agent                                              │   │
│  │  • Routing Agent                                                      │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                    │                                          │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                        Data Processing                                 │   │
│  │  • Document Upload & Processing                                       │   │
│  │  • File Format Support (PDF, DOCX, HWPX)                             │   │
│  │  • Markdown Conversion                                                │   │
│  │  • Data Extraction & Analysis                                        │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────────┘
                                    │
                    ┌────────────────┼────────────────┐
                    ▼                ▼                ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              DATA LAYER                                        │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                        MySQL Database                                  │   │
│  │  • User Management                                                    │   │
│  │  • Chat Sessions                                                      │   │
│  │  • Document Metadata                                                  │   │
│  │  • Calendar & Events                                                 │   │
│  │  • Tool Message Records                                              │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                    │                                          │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                        ChromaDB (Vector DB)                            │   │
│  │  • Document Embeddings                                               │   │
│  │  • Semantic Search                                                    │   │
│  │  • RAG Indexing                                                       │   │
│  │  • Similarity Matching                                                │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                    │                                          │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                        Redis Cache                                     │   │
│  │  • Session Management                                                 │   │
│  │  • Temporary Data Storage                                             │   │
│  │  • Performance Optimization                                           │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────────┘
                                    │
                    ┌────────────────┼────────────────┐
                    ▼                ▼                ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              INFRASTRUCTURE LAYER                             │
├─────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                        Docker Environment                              │   │
│  │  • Multi-stage Builds                                                 │   │
│  │  • Container Orchestration                                            │   │
│  │  • Network Isolation (skn13_network)                                  │   │
│  │  • Volume Management                                                  │   │
│  │  • Health Checks                                                      │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                    │                                          │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                        Development Tools                               │   │
│  │  • Hot Reload (Development Mode)                                      │   │
│  │  • ESLint + Prettier                                                  │   │
│  │  • Tailwind CSS                                                       │   │
│  │  • Vite Build System                                                  │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────────┘
```

## 🔧 기술 스택 상세

### **Frontend**
- **Framework**: React 19 + Vite 7
- **Styling**: Tailwind CSS
- **Icons**: React Icons, Heroicons, Lucide React
- **Markdown**: React Markdown + Remark/Rehype
- **Build**: Multi-stage Docker with Nginx

### **Backend**
- **Framework**: FastAPI (Python)
- **AI/LLM**: OpenAI API, Voyage AI
- **RAG System**: Custom Agents (Search, Editor, Routing)
- **Document Processing**: PyMuPDF, python-docx, HWPX
- **Database**: SQLAlchemy ORM

### **Data Storage**
- **Primary DB**: MySQL 8.0
- **Vector DB**: ChromaDB
- **Cache**: Redis
- **File Storage**: Local volumes

### **Infrastructure**
- **Containerization**: Docker + Docker Compose
- **Web Server**: Nginx
- **Networking**: Custom bridge network
- **Profiles**: Development/Production

## 🚀 주요 기능

1. **AI Chat Assistant**: RAG 기반 문서 검색 및 답변
2. **Document Management**: PDF, DOCX, HWPX 파일 처리
3. **Role-based Access**: Admin/User 권한 관리
4. **Multi-platform**: Web, Desktop (Electron), Mobile
5. **Real-time Processing**: Streaming responses
6. **Scalable Architecture**: Microservices with Docker

이 아키텍처는 **RAG 기반 AI 비서 시스템**으로, 문서 검색, 편집, AI 대화를 통합한 현대적인 웹 애플리케이션입니다. 🎯

```mermaid
graph TB
    subgraph "CLIENT LAYER"
        A2[Electron App<br/>Desktop]
    end

    subgraph "GATEWAY LAYER"
        B[Nginx<br/>Port 80/443<br/>Static Files + API Proxy]
    end

    subgraph "APPLICATION LAYER"
        C1[Frontend<br/>React + Vite<br/>Chat Interface + Document Editor]
    end

    subgraph "SERVICE LAYER"
        C2[Backend<br/>FastAPI + Python<br/>REST API + RAG System]
        D1[AI/LLM Services<br/>OpenAI<br/>RAG + Agents]
        D2[Data Processing<br/>Document Processing<br/>File Conversion]
    end

    subgraph "DATA LAYER"
        E1[MySQL Database<br/>Users + Sessions + Documents]
        E2[ChromaDB<br/>Vector Database<br/>Document Embeddings]
        E3[Redis Cache<br/>Session + Performance]
    end

    subgraph "INFRASTRUCTURE LAYER"
        F1[Docker Environment<br/>Multi-stage + Orchestration]
        F2[Development Tools<br/>Hot Reload + Linting]
    end

    A2 --> B
    B --> C1
    B --> C2
    C1 --> C2
    C2 --> D1
    C2 --> D2
    D1 --> E2
    D2 --> E1
    C2 --> E1
    C2 --> E2
    C2 --> E3
    F1 --> E1
    F1 --> E2
    F1 --> E3
```


```mermaid
graph LR
    subgraph "Frontend Components"
        FC1[ChatWindow]
        FC2[MainSidebar]
        FC3[DocumentEditor]
        FC4[FeatureShell]
        FC5[LoginPage]
    end

    subgraph "Backend Services"
        BS1[Main API]
        BS2[RAG Agent]
        BS3[Document Search Agent]
        BS4[Document Editor Agent]
        BS5[Routing Agent]
        BS6[Chat Agent]
    end

    subgraph "AI/LLM Integration"
        AI1[OpenAI API]
        AI3[Embedding Service]
        AI4[Vector Search]
    end

    subgraph "Data Models"
        DM1[User]
        DM2[ChatSession]
        DM3[ChatMessage]
        DM4[Document]
        DM5[Calendar]
        DM6[Event]
    end

    FC1 --> BS1
    FC2 --> BS1
    FC3 --> BS1
    FC4 --> BS1
    FC5 --> BS1
    
    BS1 --> BS2
    BS1 --> BS3
    BS1 --> BS4
    BS1 --> BS5
    BS1 --> BS6
    
    BS2 --> AI1
    BS2 --> AI2
    BS3 --> AI3
    BS3 --> AI4
    BS4 --> AI1
    BS4 --> AI2
    
    BS1 --> DM1
    BS1 --> DM2
    BS1 --> DM3
    BS1 --> DM4
    BS1 --> DM5
    BS1 --> DM6
```